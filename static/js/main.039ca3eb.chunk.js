(this["webpackJsonpgame-of-life-react"]=this["webpackJsonpgame-of-life-react"]||[]).push([[0],{222:function(e,t,n){e.exports=n(393)},227:function(e,t,n){},229:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(26),i=n.n(l),s=(n(227),n(228),n(17)),c=n(18),o=n(20),u=n(19),p=(n(229),n(403)),d=n(47),h=n(404),m=n(197),g=(n(234),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).handleMouseEnter=function(e){r.setState({shadowLocation:e})},r.state={shadowLocation:"0_0"},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=null;if(this.props.grid){var n=this.props.grid.map((function(e){return e.slice()}));if(this.props.shadowGrid)for(var r=this.state.shadowLocation.slice().split("_"),l=parseInt(r[0]),i=parseInt(r[1]),s=0;s<this.props.shadowGrid.length;s++)for(var c=0;c<this.props.shadowGrid[0].length;c++)l+s<this.props.grid.length&&i+c<this.props.grid[0].length&&this.props.shadowGrid[s][c]&&(n[l+s][i+c]=2);t=n.map((function(t,n){return a.a.createElement("tr",{key:n},t.map((function(t,r){return a.a.createElement(f,{interactive:e.props.interactive,cellSize:e.props.cellSize,boxId:n+"_"+r,key:n+"_"+r,value:t,cellColor:e.props.cellColor,cellClickFunc:e.props.cellClickFunc,onMouseEnter:e.handleMouseEnter})})))}))}return a.a.createElement("table",{className:"grid"},a.a.createElement("tbody",null,t))}}]),n}(a.a.Component)),f=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t={backgroundColor:null,height:this.props.cellSize?this.props.cellSize+"px":"20px",width:this.props.cellSize?this.props.cellSize+"px":"20px"};return 1===this.props.value||!0===this.props.value?t.backgroundColor=this.props.cellColor:2===this.props.value&&(t.backgroundColor="#ababab"),a.a.createElement("td",{style:t,className:this.props.interactive?"interactive cell":"cell",onClick:this.props.interactive?function(){e.props.cellClickFunc(e.props.boxId)}:null,onMouseEnter:function(){return e.props.onMouseEnter(e.props.boxId)}})}}]),n}(a.a.Component),v=g,S=(n(235),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).handleClick=function(){e.props.onChange?e.props.onChange(e.props.value):e.props.onClick&&e.props.onClick(e.props.value)},e}return Object(c.a)(n,[{key:"render",value:function(){var e,t,n="imageRadio";return this.props.large?n+=" large":this.props.medium?n+=" medium":this.props.small&&(n+=" small"),this.props.imgSrc?e=a.a.createElement("img",{className:"imageRadioContent",src:this.props.imgSrc,alt:this.props.altText}):this.props.solidColor&&(e=a.a.createElement("div",{className:"imageRadioContent",style:{backgroundColor:this.props.solidColor}})),this.props.label&&(t=a.a.createElement("p",null,this.props.label)),a.a.createElement("div",{className:"imageRadioWrapper"},a.a.createElement("input",{type:"radio",checked:this.props.checked,name:this.props.name,value:this.props.value,onClick:this.handleClick}),a.a.createElement("div",{className:n},e,t))}}]),n}(a.a.Component)),E=n(406),y=(n(236),[{name:"Blinker",dimensions:[3,3],type:"oscillator",period:2,grid:[[0,0,0],[1,1,1],[0,0,0]]},{name:"Toad",dimensions:[4,4],type:"oscillator",period:2,grid:[[0,0,0,0],[0,1,1,1],[1,1,1,0],[0,0,0,0]]},{name:"Beacon",dimensions:[4,4],type:"oscillator",period:2,grid:[[1,1,0,0],[1,1,0,0],[0,0,1,1],[0,0,1,1]]},{name:"Pulsar",dimensions:[15,15],type:"oscillator",period:3,grid:[[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0],[1,1,1,0,0,1,1,0,1,1,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]]},{name:"Pentadecathlon",dimensions:[9,16],type:"oscillator",period:15,grid:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0],[0,0,0,1,0,1,0,0,0],[0,0,1,0,0,0,1,0,0],[0,0,1,0,0,0,1,0,0],[0,0,1,0,0,0,1,0,0],[0,0,1,0,0,0,1,0,0],[0,0,1,0,0,0,1,0,0],[0,0,1,0,0,0,1,0,0],[0,0,0,1,0,1,0,0,0],[0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]},{name:"Glider",dimensions:[3,3],type:"spaceship",grid:[[0,0,1],[1,0,1],[0,1,1]]},{name:"Medium Spaceship",dimensions:[5,4],type:"spaceship",grid:[[1,0,0,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]]}]),C=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).selectItem=function(e){r.setState({selected:e,detailsOpen:!0,selectedGrid:y[e].grid,generation:0})},r.nextGen=function(){r.setState({selectedGrid:r.props.stepFunc(r.state.selectedGrid),generation:(r.state.generation+1)%y[r.state.selected].period})},r.removePadding=function(e){var t=e.map((function(e){return e.slice()}));return t.shift(),t.pop(),t.forEach((function(e){e.shift(),e.pop()})),t},r.componentDidMount=function(){y.forEach((function(e){e.grid.forEach((function(e){e.unshift(!1),e.push(!1)}));var t=new Array(e.grid[0].length).fill(!1);e.grid.unshift(t),e.grid.push(t)}))},r.state={selected:0,detailsOpen:!1,selectedGrid:y[0].grid,generation:0},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=y.map((function(t,n){return a.a.createElement(b,{key:n,i:n,structure:t,stepFunc:e.props.stepFunc,selectItemFunc:e.selectItem})}));return a.a.createElement(h.a,{closeIcon:!0,onClose:this.props.closeFunc,open:this.props.open},a.a.createElement(h.a.Header,null,"Structures"),a.a.createElement(h.a.Content,null,a.a.createElement("div",{id:"modal-content"},a.a.createElement("div",{id:"structure-list",className:this.state.detailsOpen?null:"visible"},t),a.a.createElement("div",{id:"structure-details",className:this.state.detailsOpen?"visible":null},a.a.createElement("div",null,a.a.createElement("h3",null,y[this.state.selected].name),a.a.createElement("p",null,"Dimensions: ",y[this.state.selected].dimensions[0],"x",y[this.state.selected].dimensions[1]),a.a.createElement("p",null,"Period: ",y[this.state.selected].period),a.a.createElement("p",null,"Type: ",y[this.state.selected].type),a.a.createElement(p.a,{icon:!0,labelPosition:"left",onClick:function(){return e.props.placeStructFunc(e.removePadding(e.state.selectedGrid))}},"Place this structure!",a.a.createElement(d.a,{name:"paint brush"})),a.a.createElement(p.a,{className:"back-button",onClick:function(){return e.setState({detailsOpen:!1})}},"Back")),a.a.createElement("div",{id:"structure-grid"},a.a.createElement(v,{grid:this.state.selectedGrid,cellColor:"#616161"}),a.a.createElement("p",null,"Generation ",this.state.generation),a.a.createElement(E.a,{content:"Animation for spaceships is currently unavailable",disabled:"spaceship"!==y[this.state.selected].type,trigger:a.a.createElement("span",null,a.a.createElement(p.a,{onClick:this.nextGen,disabled:"spaceship"===y[this.state.selected].type},"Step"))}))))))}}]),n}(a.a.Component),b=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).toggleHover=function(){r.setState({hover:!r.state.hover})},r.play=function(){r.state.hover&&"spaceship"!==r.props.structure.type&&r.setState({grid:r.props.stepFunc(r.state.grid)})},r.state={hover:!1,structure:r.props.structure,grid:r.props.structure.grid,timer:setInterval(r.play,1e3)},r}return Object(c.a)(n,[{key:"render",value:function(){var e,t=this,n=this.state.grid.length;return e=n<=5?"20px":n<=10?"17px":n<=15?"13px":"10px",a.a.createElement("div",{className:"structure-item",onMouseEnter:this.toggleHover,onMouseLeave:this.toggleHover,onClick:function(){return t.props.selectItemFunc(t.props.i)}},a.a.createElement("p",null,this.props.structure.name),a.a.createElement(v,{grid:this.state.grid,cellColor:"#616161",cellSize:e}))}}]),n}(a.a.Component),k=C,G=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).toggleAutoPlay=function(){r.state.playing?clearInterval(r.timer):r.timer=setInterval(r.play,r.state.interval),r.setState({playing:!r.state.playing})},r.openSettingsModal=function(){r.setState({structureModalOpen:!0})},r.closeSettingsModal=function(){r.setState({structureModalOpen:!1})},r.openStructureMenu=function(){r.setState({structureMenuOpen:!0})},r.closeStructureMenu=function(){r.setState({structureMenuOpen:!1})},r.handleIntervalSliderChange=function(e){r.setState({interval:e})},r.handleColorChange=function(e){r.setState({color:e})},r.play=function(){var e=r.step(r.state.grid);r.setState({grid:e,generation:r.state.generation+1})},r.step=function(e){for(var t=e.map((function(e){return e.slice()})),n=0;n<e.length;n++)for(var a=0;a<e[0].length;a++){var l=r.nLiveNeighbours(n,a,e);r.cellIsPopulated(n,a,e)?(l<2||l>3)&&(t[n][a]=0):3===l&&(t[n][a]=1)}return t},r.nLiveNeighbours=function(e,t,n){var a=0;return r.cellIsPopulated(e-1,t-1,n)&&a++,r.cellIsPopulated(e-1,t,n)&&a++,r.cellIsPopulated(e-1,t+1,n)&&a++,r.cellIsPopulated(e,t-1,n)&&a++,r.cellIsPopulated(e,t+1,n)&&a++,r.cellIsPopulated(e+1,t-1,n)&&a++,r.cellIsPopulated(e+1,t,n)&&a++,r.cellIsPopulated(e+1,t+1,n)&&a++,a},r.cellIsPopulated=function(e,t,n){return e>=0&&t>=0&&e<n.length&&t<n[0].length&&n[e][t]},r.startPlaceStructure=function(e){r.setState({structureMenuOpen:!1,selectedStructGrid:e})},r.resetGrid=function(){var e=new Array(r.state.rows).fill().map((function(){return new Array(r.state.cols).fill(0)}));r.setState({grid:e,generation:0})},r.randomSeedGrid=function(){for(var e=new Array(r.state.rows).fill().map((function(){return new Array(r.state.cols).fill(0)})),t=0;t<r.state.rows;t++)for(var n=0;n<r.state.cols;n++)1===Math.floor(5*Math.random())&&(e[t][n]=1);r.setState({grid:e,generation:0})},r.onCellClick=function(e){r.state.selectedStructGrid?r.confirmPlaceStructure(e):r.toggleCell(e)},r.confirmPlaceStructure=function(e){e=e.split("_");for(var t=parseInt(e[0]),n=parseInt(e[1]),a=r.state.grid.map((function(e){return e.slice()})),l=0;l<r.state.selectedStructGrid.length;l++)for(var i=0;i<r.state.selectedStructGrid[0].length;i++)t+l<a.length&&n+i<a[0].length&&r.state.selectedStructGrid[l][i]&&(a[t+l][n+i]=r.state.selectedStructGrid[l][i]);r.setState({grid:a,selectedStructGrid:null})},r.toggleCell=function(e){if(!r.state.playing){var t=(e=e.split("_"))[0],n=e[1],a=r.state.grid.slice();a[t][n]=!a[t][n],r.setState({grid:a})}},r.handleKeyup=function(e){r.state.selectedStructGrid&&(27===e.keyCode&&null!==r.state.selectedStructGrid&&r.setState({selectedStructGrid:null}),70===e.keyCode&&r.structureFlip(e.shiftKey?1:0),65!==e.keyCode&&37!==e.keyCode||r.structureRotate(-1),68!==e.keyCode&&39!==e.keyCode||r.structureRotate(1))},r.structureFlip=function(e){var t=r.state.selectedStructGrid.map((function(e){return e.slice()}));0===e?t.forEach((function(e){return e.reverse()})):1===e&&t.reverse(),r.setState({selectedStructGrid:t})},r.structureRotate=function(e){var t=r.state.selectedStructGrid,n=t[0].map((function(e,n){return t.map((function(e){return e[n]}))}));e<0?n.reverse():e>0&&n.forEach((function(e){return e.reverse()})),r.setState({selectedStructGrid:n})},r.handleResize=function(e){r.resizeGrid()},r.resizeGrid=function(){var e=window.innerWidth,t=window.innerHeight,n=parseInt(.8*e/r.cellSize),a=parseInt((t-200)/r.cellSize),l=r.state.grid.map((function(e){return e.slice()}));if(n<l[0].length?l.forEach((function(e){for(;e.length>n;)e.pop()})):n>l[0].length&&l.forEach((function(e){for(;e.length<n;)e.push(0)})),a<l.length)for(;l.length>a;)l.pop();else if(a>l.length)for(var i=new Array(l[0].length).fill(0);l.length<a;)l.push(i);r.setState({rows:a,cols:n,grid:l})},r.componentDidMount=function(){document.addEventListener("keyup",r.handleKeyup,!1),window.addEventListener("resize",r.handleResize,!1),r.resizeGrid()},r.componentWillUnmount=function(){document.removeEventListener("keyup",r.handleKeyup,!1),window.removeEventListener("resize",r.handleResize,!1)};return r.timer=null,r.cellSize=20,r.state={rows:28,cols:40,grid:new Array(28).fill().map((function(){return new Array(40).fill(0)})),playing:!1,generation:0,selectedStructGrid:null,interval:500,color:"#242424",structureModalOpen:!1,structureMenuOpen:!1},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=[{name:"Black",hex:"#242424"},{name:"Red",hex:"#e60000"},{name:"Orange",hex:"#ebab34"},{name:"Yellow",hex:"#f0e446"},{name:"Green",hex:"#1dc223"},{name:"Blue",hex:"#1555c2"},{name:"Purple",hex:"#9715c2"},{name:"Pink",hex:"#f760e3"}].map((function(t,n){return a.a.createElement(S,{small:!0,name:"color",solidColor:t.hex,value:t.hex,label:t.name,onClick:e.handleColorChange,checked:t.hex===e.state.color,key:n})}));return a.a.createElement("div",{className:"app",onMouseMove:this.updateCursorXY},a.a.createElement("div",{className:"title"},"Game of Life"),a.a.createElement(v,{interactive:!0,grid:this.state.grid,cellClickFunc:this.onCellClick,cellColor:this.state.color,cellSize:this.cellSize,shadowGrid:this.state.selectedStructGrid}),a.a.createElement("p",null,"Generation: ",this.state.generation),a.a.createElement("div",{className:"button-container"},a.a.createElement(p.a,{primary:!0,icon:!0,onClick:this.toggleAutoPlay,disabled:null!==this.state.selectedStructGrid},a.a.createElement(d.a,{name:this.state.playing?"pause":"play"})),a.a.createElement(p.a,{onClick:this.play,disabled:this.state.playing||null!==this.state.selectedStructGrid},"Step"),a.a.createElement(p.a,{icon:!0,onClick:this.openStructureMenu,disabled:this.state.playing||null!==this.state.selectedStructGrid},a.a.createElement(d.a,{name:"folder outline"})),a.a.createElement(p.a,{onClick:this.resetGrid,disabled:this.state.playing||null!==this.state.selectedStructGrid},"Reset Grid"),a.a.createElement(p.a,{onClick:this.randomSeedGrid,disabled:this.state.playing||null!==this.state.selectedStructGrid},"Seed"),a.a.createElement(p.a,{icon:!0,onClick:this.openSettingsModal,disabled:this.state.playing||null!==this.state.selectedStructGrid},a.a.createElement(d.a,{name:"setting"}))),a.a.createElement(h.a,{closeIcon:!0,onClose:this.closeSettingsModal,open:this.state.structureModalOpen},a.a.createElement(h.a.Header,null,"Settings"),a.a.createElement(h.a.Content,null,a.a.createElement("label",null,"Play Speed"),a.a.createElement(m.Slider,{discrete:!0,color:"blue",settings:{start:1e3/this.state.interval,min:1,max:5,step:1,onChange:function(t){return e.handleIntervalSliderChange(1e3/t)}}}),a.a.createElement("label",null,"Color"),a.a.createElement("br",null),t)),a.a.createElement(k,{open:this.state.structureMenuOpen,stepFunc:this.step,closeFunc:this.closeStructureMenu,placeStructFunc:this.startPlaceStructure}))}}]),n}(a.a.Component);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(G,null)),document.getElementById("root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.039ca3eb.chunk.js.map